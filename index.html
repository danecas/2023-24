<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>Multipli(City)</title>
        <!-- Import Tailwing  -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Import AlpineJS -->
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"
        ></script>

        <!-- Import Leaflet  -->
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet/dist/leaflet.css"
        />
        <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

        <!-- Import Fonts  -->
        <link
            rel="preconnect"
            href="https://fonts.googleapis.com"
        />
        <link
            rel="preconnect"
            href="https://fonts.gstatic.com"
            crossorigin
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@300;400;500;600;700;800;900&display=swap"
            rel="stylesheet"
        />
        <!-- Import Custom css -->
        <link
            rel="stylesheet"
            href="style.css"
        />
    </head>
    <body class="w-screen h-screen flex">
        <div
            id="map"
            class="bg-slate-50 border-b-4 border-t-4 border-l-4 border-blue-500"
        ></div>

        <div
            id="paper"
            x-data="{ open: 'about',  squeezed: false }"
            class="border-b-4 border-t-4 border-l-4 border-blue-500 relative flex flex-col h-screen bg-slate-50"
        >
            <div
                class="p-4 border-b-4 border-r-4 border-blue-500 cursor-pointer sticky top-0 bg-slate-50 z-10"
                x-on:click="open === 'about' ? open = null : open = 'about';  squeezed=false"
            >
                <h4 class="text-4xl">About</h4>
                <div
                    x-show.important="open=='about'"
                    transition:enter="transition ease-out duration-300"
                    class="p-0 m-0 transition-all text-justify mt-4"
                >
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit.
                        Dolor facere minima laborum? Sit reiciendis deserunt
                        quas accusantium magnam voluptatibus quos eveniet
                        officiis, nisi, nam cumque atque facilis dolorem aliquam
                        adipisci! Lorem ipsum dolor sit, amet consectetur
                        adipisicing elit. Nihil corporis facere libero, optio
                        magni eum fugit totam molestias consequuntur, animi
                        impedit qui repellendus odit ad in, quasi iure aut
                        illum!Lorem ipsum dolor sit amet consectetur adipisicing
                        elit. Dolor facere minima laborum? Sit reiciendis
                        deserunt quas accusantium magnam voluptatibus quos
                        eveniet officiis, nisi, nam cumque atque facilis dolorem
                        aliquam adipisci! Lorem ipsum dolor sit, amet
                        consectetur adipisicing elit. Nihil corporis facere
                        libero, optio magni eum fugit totam molestias
                        consequuntur, animi impedit qui repellendus odit ad in,
                        quasi iure aut illum!Lorem ipsum dolor sit amet
                        consectetur adipisicing elit. Dolor facere minima
                        laborum? Sit reiciendis deserunt quas accusantium magnam
                        voluptatibus quos eveniet officiis, nisi, nam cumque
                        atque facilis dolorem aliquam adipisci! Lorem ipsum
                        dolor sit, amet consectetur adipisicing elit. Nihil
                        corporis facere libero, optio magni eum fugit totam
                        molestias consequuntur, animi impedit qui repellendus
                        odit ad in, quasi iure aut illum!
                    </p>
                </div>
            </div>
            <div class="overflow-y-auto">
                <template
                    x-data="{ posts: [] }"
                    x-init="data = await (await fetch('public/data.json')).json(); 
            posts = data.posts;"
                    x-for="(post, index) in posts"
                    :key="index"
                >
                    <div
                        class="p-4 border-r-4 border-blue-500 bg-slate-50 top-0"
                        :class="{ 'border-b-4 ': index < posts.length - 1, 'overflow-hidden text-blue-500  hover:h-auto h-10' : squeezed==true && open !== index }"
                    >
                        <div
                            x-bind="chapterTitle(index)"
                            class="cursor-pointer"
                            x-on:click="open === index ? (squeezed=false, open = null)  : (squeezed=true , open = index);"
                        >
                            <h4
                                class="text-4xl md:text-5xl lg:text-6xl"
                                x-text="post.title"
                            ></h4>
                            <h4
                                class="text-2xl md:text-3xl lg:text-3xl"
                                x-text="post.author"
                            ></h4>
                        </div>
                        <div
                            x-show.important="open==index"
                            transition:enter="transition ease-out duration-300"
                            class="p-0 m-5 transition-all overflow-auto mt-10 mb-10"
                        >
                            <div
                                class="text-justify"
                                x-html="post.text.map(p => `<p>${p}</p>`).join('<br>');"
                            ></div>
                        </div>
                    </div>
                </template>
            </div>
        </div>
        <script src="app.js"></script>
    </body>
</html>
